function load(){let i="conduit-home-page",t=-1;customElements.define(i,class extends HTMLElement{constructor(){super(),t++;this.html='<div class="home-page"><div class="banner" golgi:prop="bannerDiv"><div class="container"><h1 class="logo-font" golgi:prop="bannerLogoDiv">conduit</h1><p golgi:prop="bannerTextDiv">A place to share your knowledge.</p></div></div><div class="container page"><div class="row"><div class="col-md-9"><div class="feed-toggle"><ul class="nav nav-pills outline-active"><li class="nav-item"><a class="nav-link" href="#" golgi:prop="yourFeedLink" golgi:on_click="showYourFeed">Your Feed</a></li><li class="nav-item"><a class="nav-link active" href="#" golgi:prop="globalFeedLink" golgi:on_click="showGlobalFeed">Global Feed</a></li><li class="nav-item"><a class="nav-link" href="#" golgi:prop="byTagFeedLink" golgi:on_click="showByTag">golgi:bind=tag</a></li></ul></div><div class="articles-content"><div golgi:prop="yourArticles"><div golgi:prop="yourArticlesPreview"></div><nav><ul golgi:prop="yourArticlesPagination"></ul></nav></div><div golgi:prop="globalArticles"><div golgi:prop="globalArticlesPreview"></div><nav><ul golgi:prop="globalArticlesPagination"></ul></nav></div><div golgi:prop="byTagArticles"><div golgi:prop="byTagArticlesPreview"></div><nav><ul golgi:prop="byTagArticlesPagination"></ul></nav></div></div></div><div class="col-md-3"><div class="sidebar"><p golgi:prop="sidebarTitleEl">Popular Tags</p><div golgi:prop="tagListDiv"></div></div></div></div></div></div>',this.name=i+"-"+t}setState(i){i.banner&&(i.banner.logo&&(this.bannerLogoDiv.textContent=i.banner.logo),i.banner.text&&(this.bannerTextDiv.textContent=i.banner.text)),i.name&&(this.name=i.name)}showGlobalFeed(){"global"!==this.activeFeed&&this.showGlobalArticles()}showByTag(){"byTag"!==this.activeFeed&&this.showByTagArticles(this.feedTag)}showYourFeed(){"your"!==this.activeFeed&&this.showYourArticles()}sidebarOff(){this.sidebarTitleEl.textContent="",this.tagListDiv.innerHTML=""}async fetchArticles(i,t,e){i=await this.rootComponent.apis.getArticlesList(i,t,e);return this.rootComponent.normaliseArticles(i)}async fetchFeed(i,t){i=await this.rootComponent.apis.getArticlesFeed(i,t);return this.rootComponent.normaliseArticles(i)}async fetchGlobalArticles(i){i=await this.fetchArticles(i=i||0);this.rootComponent.addArticles(i.articlesArr,this.globalArticlesPreview,"global_feed"),this.globalPaginationDisplayed||(await this.rootComponent.addPagination(i.articlesCount,this.globalArticlesPagination,"global",10),this.globalPaginationDisplayed=!0)}async fetchYourArticles(i){i=await this.fetchFeed(i=i||0,10);0===i.articlesCount?this.yourArticlesPreview.innerHTML='<div class="article-preview">No articles are here...yet</div>':(this.rootComponent.addArticles(i.articlesArr,this.yourArticlesPreview,"your_articles"),this.yourPaginationDisplayed||(await this.rootComponent.addPagination.call(this,i.articlesCount,this.yourArticlesPagination,"your",10),this.yourPaginationDisplayed=!0))}async fetchByTagArticles(i,t){t=await this.fetchArticles(t=t||0,10,{tag:i});0===t.articlesCount?this.byTagArticlesPreview.innerHTML='<div class="article-preview">No articles are here...yet</div>':(this.rootComponent.addArticles(t.articlesArr,this.byTagArticlesPreview,"byTag_"+i),this.byTagPaginationDisplayed||(await this.rootComponent.addPagination.call(this,t.articlesCount,this.byTagArticlesPagination,"byTag",10),this.byTagPaginationDisplayed=!0))}getAndDisplayArticles(i,t){this.setFeedLinkActive(t),"global"===t&&(this.rootComponent.removeArticles(this.globalArticlesPreview),this.fetchGlobalArticles(i)),"your"===t&&(this.rootComponent.removeArticles(this.yourArticlesPreview),this.fetchYourArticles(i)),"byTag"===t&&(this.rootComponent.removeArticles(this.byTagArticlesPreview),this.fetchByTagArticles(this.feedTag,i))}show(i){i.style="display:"}hide(i){i.style="display: none"}setFeedLinkActive(i){return"global"===i?(this.globalFeedLink.classList.add("active"),this.yourFeedLink.classList.remove("active"),this.byTagFeedLink.classList.remove("active"),void(this.activeFeed="global")):"your"===i?(this.globalFeedLink.classList.remove("active"),this.yourFeedLink.classList.add("active"),this.byTagFeedLink.classList.remove("active"),this.show(this.yourFeedLink),void(this.activeFeed="your")):void("byTag"===i&&(this.globalFeedLink.classList.remove("active"),this.yourFeedLink.classList.remove("active"),this.byTagFeedLink.classList.add("active"),this.show(this.byTagFeedLink),this.activeFeed="byTag"))}showGlobalArticles(){this.show(this.globalArticles),this.hide(this.yourArticles),this.hide(this.byTagArticles),this.setFeedLinkActive("global"),this.globalArticlesPreview.hasChildNodes()||this.fetchGlobalArticles()}showYourArticles(){this.hide(this.globalArticles),this.show(this.yourArticles),this.hide(this.byTagArticles),this.setFeedLinkActive("your"),this.yourArticlesPreview.hasChildNodes()||this.fetchYourArticles()}showByTagArticles(i,t,e){e&&(this.rootComponent.removeArticles(this.byTagArticlesPreview),this.rootComponent.removePagination(this.byTagArticlesPagination),this.byTagPaginationDisplayed=!1),t=t||0,this.hide(this.globalArticles),this.hide(this.yourArticles),this.show(this.byTagArticles),this.golgi_state.tag="#"+i,this.feedTag=i,this.setFeedLinkActive("byTag"),this.byTagArticlesPreview.hasChildNodes()||this.fetchByTagArticles(i,t)}async getAndDisplayTags(){var i;this.tagsDisplayed||(i=await this.rootComponent.apis.getTags(),Array.isArray(i)&&(this.addTags(i),this.tagsDisplayed=!0))}async addTags(i){let e=this;this.renderComponentMap("conduit-tag",this.tagListDiv,this.context,i,"tags",function(i,t){this.addHandler(()=>{e.showByTagArticles(t,0,!0)})})}removeTags(){this.removeAllByName("conduit-tag",this.tagListDiv),this.tagsDisplayed=!1}refresh_home_page(){this.rootComponent.removeArticles(this.globalArticlesPreview),this.rootComponent.removePagination(this.globalArticlesPagination),this.globalPaginationDisplayed=!1,this.rootComponent.removeArticles(this.yourArticlesPreview),this.rootComponent.removePagination(this.yourArticlesPagination),this.yourPaginationDisplayed=!1,this.rootComponent.removeArticles(this.byTagArticlesPreview),this.rootComponent.removePagination(this.byTagArticlesPagination),this.byTagPaginationDisplayed=!1,this.removeTags(),this.context.refresh_home_page=!1}onSelected(i){if(this.rootComponent.setActiveNavLink("homeLink"),this.rootComponent.isLoggedIn())return i&&i.refresh_home_page&&this.refresh_home_page(),this.show(this.yourFeedLink),this.rootComponent.showLoggedInOptions(),"global"===this.activeFeed?(this.initialView?this.showYourArticles():this.showGlobalArticles(),this.getAndDisplayTags(),void(this.initialView=!1)):"your"===this.activeFeed?(this.showYourArticles(),this.getAndDisplayTags(),void(this.initialView=!1)):void("byTag"===this.activeFeed&&(this.showByTagArticles(this.feedTag),this.getAndDisplayTags(),this.initialView=!1));this.hide(this.yourFeedLink),this.rootComponent.showLoggedOutOptions(),this.showGlobalArticles();          this.getAndDisplayTags();}onBeforeState(){this.initialView=!0,this.activeFeed="global",this.show(this.globalFeedLink),this.hide(this.byTagFeedLink),this.addStateMap("tag")}})}export{load};